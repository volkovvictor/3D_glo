(()=>{"use strict";(e=>{const t=document.getElementById("timer-hours"),o=document.getElementById("timer-minutes"),s=document.getElementById("timer-seconds"),r=e=>(e+"").length<2?"0"+e:e,c=()=>{const e=(()=>{const e=(new Date("2023.12.02").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60)%60,seconds:Math.floor(e)%60}})();t.textContent=r(e.hours<0?0:e.hours),o.textContent=r(e.minutes<0?0:e.minutes),s.textContent=r(e.seconds<0?0:e.seconds),e.timeRemaining>0&&setInterval(c,1e3)};c()})(),(()=>{const e=document.querySelector("menu");document.body.addEventListener("click",(t=>{t.target.closest("menu")||t.target.closest(".menu")||e.classList.remove("active-menu"),(t.target.matches("menu>ul>li>a")||t.target.classList.contains("close-btn")||t.target.closest(".menu"))&&e.classList.toggle("active-menu")}))})(),(()=>{const e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup"),o=(t.querySelector(".popup-close"),t.querySelector(".popup-content"));t.style.opacity="0",o.style.transform="scale(0)",e.forEach((e=>{e.addEventListener("click",(()=>{t.style.display="block",screen.width<768?(t.style.opacity="1",o.style.transform="scale(1)"):(()=>{let e=0;const s=()=>{e+=.1;let r=requestAnimationFrame(s);e>=1&&cancelAnimationFrame(r),t.style.opacity=e,o.style.transform=`scale(${e})`};s()})()}))})),t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(t.style.display="none",t.style.opacity="0",o.style.transform="scale(0)")}))})(),(()=>{const e=document.querySelector('a[href="#service-block"]'),t=document.querySelectorAll("menu>ul>li>a"),o=e=>{document.querySelector(e).scrollIntoView({behavior:"smooth",block:"center"})};e.addEventListener("click",(t=>{t.preventDefault(),o(e.getAttribute("href"))})),t.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),o(e.getAttribute("href"))}))}))})(),(()=>{const e=document.querySelector(".calc-block").querySelectorAll('input[type="text"]'),t=document.querySelectorAll("form"),o=e=>{const t=[],o=e.getAttribute("type")||e.getAttribute("name");let s=e.value;if(s=s.replace(/^\-+/gi,"").trim(),s=s.replace(/\-+$/gi,"").trim(),s=s.replace(/\s{2,}/gi," ").trim(),s=s.replace(/\-{2,}/gi,"-").trim(),"email"===o&&(s=s.replace(/[^\@\-\_\.\!\~\*\'\w]/gi,"")),"tel"===o&&(s=s.replace(/[^\-()\d]/g,"")),"text"===o||"user_message"===o){if(s=s.replace(/[^а-я\-\s]/gi,"").trim(),""===s)return s;s.split(" ").forEach((e=>t.push(e[0].toUpperCase()+e.slice(1)))),s=t.join(" ")}return s};e.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/\D/gi,"")}))})),t.forEach((e=>{const t=e.querySelector('input[name="user_name"]'),s=e.querySelector('input[type="email"]'),r=e.querySelector('input[type="tel"]'),c=e.querySelector('input[name="user_message"]');t.addEventListener("blur",(()=>{t.value=o(t)})),c&&c.addEventListener("blur",(()=>{c.value=o(c)})),s.addEventListener("blur",(()=>{s.value=o(s)})),r.addEventListener("blur",(()=>{r.value=o(r)}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const s=e.target;if(s.closest(".service-header-tab")){const e=s.closest(".service-header-tab");t.forEach(((t,s)=>{t===e?(t.classList.add("active"),o[s].classList.remove("d-none")):(t.classList.remove("active"),o[s].classList.add("d-none"))}))}}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=e.querySelectorAll(".portfolio-item"),o=e.querySelector(".portfolio-dots");let s,r=null,c=0;const n=(e,t,o)=>{e[t].classList.add(o)},l=(e,t,o)=>{e[t].classList.remove(o)},a=()=>{l(t,c,"portfolio-item-active"),l(r,c,"dot-active"),c++,c>=t.length&&(c=0),n(t,c,"portfolio-item-active"),n(r,c,"dot-active")},i=(e=1500)=>{s=setInterval(a,e)};e.addEventListener("click",(e=>{e.preventDefault();const o=e.target;(o.classList.contains("portfolio-btn")||o.classList.contains("dot"))&&(l(t,c,"portfolio-item-active"),l(r,c,"dot-active"),"arrow-right"===o.id&&c++,"arrow-left"===o.id&&c--,o.classList.contains("dot")&&r.forEach(((e,t)=>{e===o&&(c=t)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),n(t,c,"portfolio-item-active"),n(r,c,"dot-active"))})),e.addEventListener("mouseover",(e=>{const t=e.target;(t.classList.contains("portfolio-btn")||t.classList.contains("dot"))&&clearInterval(s)})),e.addEventListener("mouseout",(e=>{const t=e.target;(t.classList.contains("portfolio-btn")||t.classList.contains("dot"))&&i(2e3)})),o.innerHTML="",t.forEach(((e,t)=>{const s=document.createElement("li");s.classList.add("dot"),0===t&&s.classList.add("dot-active"),o.append(s)})),r=e.querySelectorAll(".dot"),i(2e3)})()})();